{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["//* зберігай функції для HTTP-запитів.\n\nconst SEARCH_URL = 'https://pixabay.com/api/';\nconst MY_KEY = '48325012-3ccc1b5d8b9c25a12d61b57d7';\n\nexport const fetchPhotosByQuery = query => {\n  const params = new URLSearchParams({\n    key: MY_KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`${SEARCH_URL}?${params}`).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n};\n","//* створи функції для відображення елементів інтерфейсу.\nexport const createGalleryCardTemplate = arr => {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n      <li class=\"gallery-item\">\n\t<a class=\"gallery-link\" href=\"${largeImageURL}\">\n\t\t<img \n\t\t\tclass=\"gallery-img\" \n\t\t\tsrc=\"${webformatURL}\" \n\t\t\talt=\"${tags}\" \n\t\t\t/>\n\t</a>\n    <ul class=\"gallery-info-list\">\n                    <li class=\"info-list-item\">\n                        <h2 class=\"info-list-title\">Likes:</h2>\n                        <p class=\"info-list-text\">${likes}</p>\n                    </li>\n                    <li class=\"inform-item\">\n                        <h2 class=\"info-list-title\">Views:</h2>\n                        <p class=\"info-list-text\">${views}</p>\n                    </li>\n                    <li class=\"info-list-item\">\n                        <h2 class=\"info-list-title\">Comments:</h2>\n                        <p class=\"info-list-text\">${comments}</p>\n                    </li>\n                    <li class=\"info-list-item\">\n                        <h2 class=\"info-list-title\">Downloads:</h2>\n                        <p class=\"info-list-text\">${downloads}</p>\n                    </li>\n                </ul>\n    </li>\n    `\n    )\n    .join('');\n};\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchPhotosByQuery } from './js/pixabay-api.js';\nimport { createGalleryCardTemplate } from './js/render-functions.js';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loader = document.querySelector('.loader');\n\nloader.style.display = 'none';\n\n// ініціалізація модального вікна галереї\nconst galleryModal = new SimpleLightbox('.js-gallery a', {\n  captionsData: 'alt',\n  captionDelay: 250,\n  className: 'simple-lightbox',\n});\n\nconst OnSearchFormSubmit = event => {\n  event.preventDefault();\n\n  loader.style.display = 'block';\n\n  galleryEl.innerHTML = '';\n\n  let userInputValue = event.currentTarget.elements.user_query.value.trim();\n\n  if (userInputValue === '') {\n    loader.style.display = 'none';\n\n    iziToast.warning({\n      title: 'Caution',\n      message: 'You forgot important data',\n      position: 'topRight',\n    });\n\n    return;\n  }\n\n  fetchPhotosByQuery(userInputValue)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.error({\n          title: '',\n          messageColor: '#FFFFFF',\n          messageSize: 16,\n          messageLineHeight: 1.5,\n          backgroundColor: '#EF4040',\n          position: 'topRight',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n\n        galleryEl.innerHTML = ' ';\n        searchFormEl.reset();\n        return;\n      }\n\n      galleryEl.insertAdjacentHTML(\n        'beforeend',\n        createGalleryCardTemplate(data.hits)\n      );\n      galleryModal.refresh();\n    })\n    .catch(err => {\n      console.log(err.message);\n    })\n    .finally(() => {\n      loader.style.display = 'none';\n      event.target.reset();\n    });\n};\n\nsearchFormEl.addEventListener('submit', OnSearchFormSubmit);\n"],"names":["SEARCH_URL","MY_KEY","fetchPhotosByQuery","query","params","response","createGalleryCardTemplate","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchFormEl","galleryEl","loader","galleryModal","SimpleLightbox","OnSearchFormSubmit","event","userInputValue","iziToast","data","err"],"mappings":"6vBAEA,MAAMA,EAAa,2BACbC,EAAS,qCAEFC,EAAqBC,GAAS,CACzC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,GAAGH,CAAU,IAAII,CAAM,EAAE,EAAE,KAAKC,GAAY,CACvD,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECnBaC,EAA4BC,GAChCA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,iCAEqBL,CAAa;AAAA;AAAA;AAAA,UAGpCD,CAAY;AAAA,UACZE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAMsCC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,oDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,oDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA,KAKxD,EACA,KAAK,EAAE,ECjCNC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAS,SAAS,cAAc,SAAS,EAE/CA,EAAO,MAAM,QAAU,OAGvB,MAAMC,EAAe,IAAIC,EAAe,gBAAiB,CACvD,aAAc,MACd,aAAc,IACd,UAAW,iBACb,CAAC,EAEKC,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpBJ,EAAO,MAAM,QAAU,QAEvBD,EAAU,UAAY,GAEtB,IAAIM,EAAiBD,EAAM,cAAc,SAAS,WAAW,MAAM,OAEnE,GAAIC,IAAmB,GAAI,CACzBL,EAAO,MAAM,QAAU,OAEvBM,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,4BACT,SAAU,UAChB,CAAK,EAED,MACD,CAEDrB,EAAmBoB,CAAc,EAC9B,KAAKE,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,MAAO,GACP,aAAc,UACd,YAAa,GACb,kBAAmB,IACnB,gBAAiB,UACjB,SAAU,WACV,QACE,0EACZ,CAAS,EAEDP,EAAU,UAAY,IACtBD,EAAa,MAAK,EAClB,MACD,CAEDC,EAAU,mBACR,YACAV,EAA0BkB,EAAK,IAAI,CAC3C,EACMN,EAAa,QAAO,CAC1B,CAAK,EACA,MAAMO,GAAO,CACZ,QAAQ,IAAIA,EAAI,OAAO,CAC7B,CAAK,EACA,QAAQ,IAAM,CACbR,EAAO,MAAM,QAAU,OACvBI,EAAM,OAAO,OACnB,CAAK,CACL,EAEAN,EAAa,iBAAiB,SAAUK,CAAkB"}